<header>
    <div class="header-top">
        <!-- Logo -->
        <a href="/" class="logo"><i class='bx bx-store'></i>EcoSpace</a>

        <!-- Search Bar (Hidden in Mobile) -->
        <div class="search-bar">
            <form action="/products" id="search-form">
                <input type="text" id="search-bar" name="search-bar"
                    placeholder="Search products, categories, and more...">
                <button type="submit"><i class="bx bx-search"></i></button>
            </form>
        </div>

        <!-- Login and Register Buttons (Hidden in Mobile) -->
        <div class="auth-buttons">
            <button class="login-btn">Login</button>
            <button class="register-btn">Register</button>
        </div>

        <!-- Hamburger Menu -->
        <div class="hamburger-menu" id="hamburger-menu">
            <i class='bx bx-menu' id="menu-icon"></i>
        </div>
    </div>

    <!-- Desktop Navigation -->
    <div class="header-bottom">
        <nav>
            <ul class="navbar">
                <li><a href="/#home" class="home-active">Home</a></li>
                <li><a href="/#about">About</a></li>
                <li><a href="/#products">Products</a></li>
                <li><a href="/#testimonials">Testimonials</a></li>
                <li><a href="/#contact">Contact</a></li>
            </ul>
        </nav>
    </div>

    <!-- Mobile Navigation (Hidden Initially) -->
    <div class="mobile-nav" id="mobile-nav">
        <a href="/#home" class="mobile-nav-link">Home</a>
        <a href="/#about" class="mobile-nav-link">About</a>
        <a href="/#products" class="mobile-nav-link">Products</a>
        <a href="/#testimonials" class="mobile-nav-link">Testimonials</a>
        <a href="/#contact" class="mobile-nav-link">Contact</a>
    </div>
</header>

<!-- JavaScript for Toggle Menu -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const hamburger = document.getElementById("hamburger-menu");
        const menuIcon = document.getElementById("menu-icon");
        const mobileNav = document.getElementById("mobile-nav");



        const searchForm = document.getElementById("search-form");

        const loginBtn = document.querySelector(".login-btn");
        const registerBtn = document.querySelector(".register-btn");

        const authButtons = document.querySelector(".auth-buttons");

        loginBtn.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "/admin?action=login";
        });

        registerBtn.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "/admin?action=register";
        });


        searchForm.addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the default form submission

            console.log("Submitted")

            const searchInput = searchForm.querySelector("input[name='search-bar']");
            const searchQuery = searchInput.value;

            // Log the search query to the console
            console.log("Search query:", searchQuery);

            // Redirect to /products
            window.location.href = "/products?query=" + encodeURIComponent(searchQuery);
        });


        hamburger.addEventListener("click", function () {
            mobileNav.classList.toggle("active"); // Show/hide menu
            hamburger.classList.toggle("active"); // Add rotation effect

            // Toggle between hamburger and close icon
            if (menuIcon.classList.contains("bx-menu")) {
                menuIcon.classList.replace("bx-menu", "bx-x"); // Change to X
            } else {
                menuIcon.classList.replace("bx-x", "bx-menu"); // Change to Menu
            }
        });
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault();

                const target = document.querySelector(this.getAttribute("href"));
                const offset = 80; // Adjust this value based on your header height

                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - offset,
                        behavior: "smooth"
                    });
                }
            });
        });
    });



</script>